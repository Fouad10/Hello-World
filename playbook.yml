---
- name: windows target
  hosts: localhost
  become: false
  gather_facts: true

  tasks:
    - name: Add Microsoft GPG key
      rpm_key:
        key: "https://packages.microsoft.com/keys/microsoft.asc"
        state: present
  
    - name: Add VSCode repository
      yum_repository:
        name: "vscode"
        description: "Visual Studio Code"
        baseurl: "https://packages.microsoft.com/yumrepos/vscode"
        gpgcheck: yes
        gpgkey: "https://packages.microsoft.com/keys/microsoft.asc"
        enabled: yes
        state: present
  
    - name: Install VSCode
      yum:
        name: code
        state: present
